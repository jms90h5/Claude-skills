<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>streamsx.ec &mdash; streamsx 3.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="streamsx.spl.types" href="streamsx.spl.types.html" />
    <link rel="prev" title="streamsx.topology.tester_runtime" href="streamsx.topology.tester_runtime.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            streamsx
          </a>
              <div class="version">
                3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="streamsx.topology.html">streamsx.topology</a></li>
<li class="toctree-l1"><a class="reference internal" href="streamsx.topology.context.html">streamsx.topology.context</a></li>
<li class="toctree-l1"><a class="reference internal" href="streamsx.topology.schema.html">streamsx.topology.schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="streamsx.topology.state.html">streamsx.topology.state</a></li>
<li class="toctree-l1"><a class="reference internal" href="streamsx.topology.tester.html">streamsx.topology.tester</a></li>
<li class="toctree-l1"><a class="reference internal" href="streamsx.topology.tester_runtime.html">streamsx.topology.tester_runtime</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">streamsx.ec</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#distributed">Distributed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#standalone">Standalone</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#application-log-and-trace">Application log and trace</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#application-log">Application log</a></li>
<li class="toctree-l3"><a class="reference internal" href="#application-trace">Application trace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#execution-context">Execution Context</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-contents">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="streamsx.spl.types.html">streamsx.spl.types</a></li>
<li class="toctree-l1"><a class="reference internal" href="streamsx.spl.toolkit.html">streamsx.spl.toolkit</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="streamsx.spl.spl.html">streamsx.spl.spl</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="streamsx.rest.html">streamsx.rest</a></li>
<li class="toctree-l1"><a class="reference internal" href="streamsx.rest_primitives.html">streamsx.rest_primitives</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="scripts/extract.html">spl-python-extract</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts/info.html">streamsx-info</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pysetup.html">Streams Python setup</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="restrictions.html">Restrictions and known bugs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">streamsx</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">streamsx.ec</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/streamsx.ec.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-streamsx.ec">
<span id="streamsx-ec"></span><h1>streamsx.ec<a class="headerlink" href="#module-streamsx.ec" title="Permalink to this heading"></a></h1>
<p>Access to the Streams execution context.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>This module (<cite>streamsx.ec</cite>) provides access to the execution
context when Python code is running in a Streams application.</p>
<p>A Streams application runs distributed or standalone.</p>
<section id="distributed">
<h3>Distributed<a class="headerlink" href="#distributed" title="Permalink to this heading"></a></h3>
<p>Distributed is used when an application is submitted
to a Streams distributed instance.</p>
<p>With distributed a running application is a <cite>job</cite> that
contains one or more processing elements (PEs). A PE
corresponds to a Linux operating system process.
The PEs in a job may be distributed across the
resources (hosts) in the Streams instance.</p>
</section>
<section id="standalone">
<h3>Standalone<a class="headerlink" href="#standalone" title="Permalink to this heading"></a></h3>
<p>Standalone is a mode where the complete application is run
as a single PE (process) outside of a Streams instance.</p>
<p>Standalone is typically used for ad-hoc testing of an application.</p>
</section>
</section>
<section id="application-log-and-trace">
<span id="streams-app-log-trc"></span><h2>Application log and trace<a class="headerlink" href="#application-log-and-trace" title="Permalink to this heading"></a></h2>
<p>Streams provides application trace and log services.</p>
<section id="application-log">
<h3>Application log<a class="headerlink" href="#application-log" title="Permalink to this heading"></a></h3>
<p>The <cite>Streams application log</cite> service is for application logging, where logging is defined as the recording of serviceability information pertaining to application or operator events. The purpose of logging is to provide an administrator with enough information to do problem determination for items they can potentially control. In general, very few events are logged in the normal running scenario of an application or operator. Events pertinent to the failure or partial failure of application runtime scenarios should be logged.</p>
<p>When running in distributed or standalone the <cite>com.ibm.streams.log</cite> logger has a handler that records messages to the <cite>Streams application log</cite> service. The level of the logger and its handler are set to the configured application log level at PE start up.</p>
<p>This logger and handler discard any message with level below <cite>INFO</cite> (20).</p>
<p>Python application code can log a message suitable for an administrator by using
the <cite>com.ibm.streams.log</cite> logger or a child logger that has <code class="docutils literal notranslate"><span class="pre">logger.propagate</span></code> evaulating to <code class="docutils literal notranslate"><span class="pre">True</span></code>. Example of logging a file exception:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">numpy</span>
<span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;com.ibm.streams.log&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="k">raise</span>
</pre></div>
</div>
<p>Application code must not modify the <cite>com.ibm.streams.log</cite> logger, if additional handlers or different levels are required a child logger should be used.</p>
</section>
<section id="application-trace">
<h3>Application trace<a class="headerlink" href="#application-trace" title="Permalink to this heading"></a></h3>
<p>The <cite>Streams application trace</cite> service is for application tracing, where tracing is defined as the recording of application or operator internal events and data. The purpose of tracing is to allow application or operator developers to debug their applications or operators.</p>
<p>When running in distributed or standalone the root logger has a handler that records messages to the <cite>Streams application trace</cite> service. The level of the logger and its handler are set to the configured application trace level at PE start up.</p>
<p>Python application code can trace a message using
the root logger or a child logger that has <code class="docutils literal notranslate"><span class="pre">logger.propagate</span></code> evaulating to <code class="docutils literal notranslate"><span class="pre">True</span></code>. Example of logging a trace message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">trace</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="o">...</span>

    <span class="n">trace</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Threshold set to </span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
</pre></div>
</div>
<p>Any existing logging performed by modules will automatically become
Streams trace messages if the application is using the <cite>logging</cite> package.</p>
<p>Application code must not modify the root logger, if additional handlers or different levels are required a child logger should be used.</p>
</section>
</section>
<section id="execution-context">
<h2>Execution Context<a class="headerlink" href="#execution-context" title="Permalink to this heading"></a></h2>
<p>This module (<cite>streamsx.ec</cite>) provides access to the execution
context when Python code is running in a Streams application.</p>
<dl class="simple">
<dt>Access is only supported when running:</dt><dd><ul class="simple">
<li><p>Streams 4.2 or later</p></li>
</ul>
</dd>
</dl>
<p>This module may be used by Python functions or classes used
in a <cite>Topology</cite> or decorated SPL operators.</p>
<p>Most functionality is only available when a Python class is
being invoked in a Streams application.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.9: </span>Support for Python 2.7</p>
</div>
</section>
<section id="module-contents">
<h2>Module contents<a class="headerlink" href="#module-contents" title="Permalink to this heading"></a></h2>
<p class="rubric">Functions</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">channel</span></code></p></td>
<td><p>Return the parallel region global channel number <cite>obj</cite> is executing in.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">domain_id</span></code></p></td>
<td><p>Return the instance identifier.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_application_configuration</span></code></p></td>
<td><p>Get a named application configuration.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_application_directory</span></code></p></td>
<td><p>Get the application directory.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_submission_time_value</span></code></p></td>
<td><p>Gets the value of a submission time parameter.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">instance_id</span></code></p></td>
<td><p>Return the instance identifier.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_active</span></code></p></td>
<td><p>Tests if code is active within a Streams execution context.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_standalone</span></code></p></td>
<td><p>Is the execution context standalone.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">job_id</span></code></p></td>
<td><p>Return the job identifier.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">local_channel</span></code></p></td>
<td><p>Return the parallel region local channel number <cite>obj</cite> is executing in.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">local_max_channels</span></code></p></td>
<td><p>Return the local maximum number of channels for the parallel region <cite>obj</cite> is executing in.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">max_channels</span></code></p></td>
<td><p>Return the global maximum number of channels for the parallel region <cite>obj</cite> is executing in.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pe_id</span></code></p></td>
<td><p>Return the PE identifier.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">shutdown</span></code></p></td>
<td><p>Return the processing element (PE) shutdown event.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">CustomMetric</span></code></p></td>
<td><p>Create a custom metric.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetricKind</span></code></p></td>
<td><p>Enumeration for the kind of a metric.</p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="streamsx.topology.tester_runtime.html" class="btn btn-neutral float-left" title="streamsx.topology.tester_runtime" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="streamsx.spl.types.html" class="btn btn-neutral float-right" title="streamsx.spl.types" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Teracloud ApS 2025, IBM Corp. 2015, 2020.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>