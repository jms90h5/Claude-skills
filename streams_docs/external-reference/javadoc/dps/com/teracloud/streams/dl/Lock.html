<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>Lock (Streams Distributed Process Store (DPS) Java API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.teracloud.streams.dl, interface: Lock">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.teracloud.streams.dl</a></div>
<h1 title="Interface Lock" class="title">Interface Lock</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">Lock</span></div>
<div class="block">This is an interface defining the available distributed lock (dl) methods.
 A lock implementation class will provide concrete logic for these methods.
 Use <a href="LockFactory.html" title="interface in com.teracloud.streams.dl"><code>LockFactory</code></a> to get a usable instance of this class.
 <br>
 Example usage:
  <pre>
 
 <code>
 LockFactory lf = DistributedLocks.getLockFactory(); 
 Lock myLock = lf.createOrGetLock("Lock_For_Test_Store1");

// Acquire the lock
try {
   myLock.acquireLock();
  
} catch (LockException le) {
   System.out.println("Unable to acquire the lock named 'Lock_For_Test_Store1'. Error = " +
      le.getErrorCode() + ", Error msg = " + le.getErrorMessage());
      throw le;
}

 System.out.println("Successfully acquired the lock named 'Lock_For_Test_Store1'.");
 // Exclusive access to the distributed lock obtained.
 // Perform your operations on a shared data store safely now.
 // ....
 // ....
 //release the lock
 try {
  myLock.releaseLock();
} catch (LockException le) {}

 </code>
 </pre></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#acquireLock()" class="member-name-link">acquireLock</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Acquire a distributed lock before accessing a critical shared resource.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#acquireLock(double,double)" class="member-name-link">acquireLock</a><wbr>(double&nbsp;leaseTime,
 double&nbsp;maxWaitTimeToAcquireLock)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Acquire a distributed lock with lease time and max wait time before accessing a critical shared resource</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getId()" class="member-name-link">getId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get the id for this lock</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#releaseLock()" class="member-name-link">releaseLock</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Release ownership of the lock.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getId()">
<h3>getId</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getId</span>()</div>
<div class="block">Get the id for this lock</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>lock id</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquireLock()">
<h3>acquireLock</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">acquireLock</span>()
          throws <span class="exceptions"><a href="LockException.html" title="class in com.teracloud.streams.dl">LockException</a></span></div>
<div class="block">Acquire a distributed lock before accessing a critical shared resource.
 <p>
 <b>IMPORTANT NOTE:</b>
Once called, this function could spin loop for a very long time (three or four minutes) until it acquires the distributed lock or it times out due to the distributed lock being not yet available.
Another important factor is that once the lock is granted, it is given to you for an infinite period of time. Hence, it is your responsibility to properly release the lock at the end of your task via <code>releaseLock</code>. There is no external mechanism to forcibly release a lock.
If either the  behavior of waiting for four minutes to acquire the lock or the indefinite allocation of lock to yourself is undesired, then use the alternative overloaded function, <code>acquireLock</code>, instead.
</p></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="LockException.html" title="class in com.teracloud.streams.dl">LockException</a></code> - if the lock could not be acquired</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquireLock(double,double)">
<h3>acquireLock</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">acquireLock</span><wbr><span class="parameters">(double&nbsp;leaseTime,
 double&nbsp;maxWaitTimeToAcquireLock)</span>
          throws <span class="exceptions"><a href="LockException.html" title="class in com.teracloud.streams.dl">LockException</a></span></div>
<div class="block">Acquire a distributed lock with lease time and max wait time before accessing a critical shared resource</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>leaseTime</code> - time, in seconds, for which the lock will be owned by the caller.  If the caller doesn't release the lock after the requested lease time due to a program crash or a programmatic error, DPS internal code will automatically release the stale lock for others to acquire.</dd>
<dd><code>maxWaitTimeToAcquireLock</code> - maximum amount of time, in seconds, the caller is willing to wait to acquire the lock. If the lock acquisition is not done within the specified max wait time, this API will exit with an error instead of spin looping forever.</dd>
<dt>Throws:</dt>
<dd><code><a href="LockException.html" title="class in com.teracloud.streams.dl">LockException</a></code> - if the lock could not be acquired within the time specified.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="releaseLock()">
<h3>releaseLock</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">releaseLock</span>()
          throws <span class="exceptions"><a href="LockException.html" title="class in com.teracloud.streams.dl">LockException</a></span></div>
<div class="block">Release ownership of the lock.  It  will be made available for other callers to acquire.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="LockException.html" title="class in com.teracloud.streams.dl">LockException</a></code> - if an error occurs</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
