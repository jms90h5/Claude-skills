<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>Overview (Java Application API for Streams)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="package index">
<meta name="generator" content="javadoc/PackageIndexWriter">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="script.js"></script>
<script type="text/javascript" src="script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-index-page">
<script type="text/javascript">var pathtoroot = "./";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li class="nav-bar-cell1-rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html#overview">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 class="title">topology API</h1>
</div>
<div class="block">Java API to allow creation of streaming applications
for Streams by Java developers.
<H2>Overview</H2>
<P>
Teracloud&reg; Streams is an advanced analytic platform that allows user-developed
applications to quickly ingest, analyze and correlate information as it arrives from
thousands of real-time sources. Streams can handle very high data throughput rates,
millions of events or messages per second.
<BR>
With this API Java developers can build streaming applications that can be
executed using Streams, including the processing being distributed
across multiple computing resources (hosts or machines) for scalability.
<H2>Java Application API</H2>
The fundamental building block of a Java Streams application is a
<a href="com/teracloud/streams/topology/TStream.html" title="interface in com.teracloud.streams.topology"><code>stream</code></a>, which  is 
continuous sequence of tuples (messages, events, records).
The API provides the ability to perform some form of processing or analytics
on each tuple as it appears on a stream, resulting in a new stream containing
tuples representing the result of the processing against the input tuples.
<BR>
<a href="com/teracloud/streams/topology/Topology.html#source(com.teracloud.streams.topology.function.Supplier)"><code>Source streams</code></a> are streams
containing tuples from external systems, for example
a source stream may be created from a reading messages from a message queue system,
such as MQTT. The purpose of a source stream is to bring the external data into
the Streams environment, so that it can be processed, analyzed, correlated with
other streams, etc.
<BR>
Streams are terminated using <a href="com/teracloud/streams/topology/TStream.html#sink(com.teracloud.streams.topology.function.Consumer)"><code>sink functions</code></a>
that typically deliver tuples to external systems, such as real-time dashboards,
SMS alerts, databases, HDFS files, etc.
</P>
<P>
An application is represented by a
<a href="com/teracloud/streams/topology/Topology.html" title="class in com.teracloud.streams.topology"><code>Topology</code></a>
object containing instances of <a href="com/teracloud/streams/topology/TStream.html" title="interface in com.teracloud.streams.topology"><code>TStream</code></a>.
The Java interface <a href="com/teracloud/streams/topology/TStream.html" title="interface in com.teracloud.streams.topology"><code>TStream<T></code></a>
is a declaration of a stream of tuples, each tuple being an instance of the
Java class or interface T. For example <code>TStream&lt;String&gt;</code> represents a stream where
each tuple will be <code>String</code> object, while, for example, <code>TStream&lt;CallDetailRecord&gt;</code>
represents a stream of <code>com.sometelco.switch.CallDetailRecord</code> tuples.
Thus, tuples on streams are Java objects, rather than SPL tuples with an attribute based schema.
</P>
<P>
Streams are created (sourced), transformed or terminated (sinked) generally though functions,
where a function is represented by an instance of a Java class with a single method.
Frequently, these functions are implemented by anonymous classes specific to an application,
though utility methods may encapsulate one or more functions. Here is an example of
filtering out all empty strings from stream <code>s</code> of type <code>String</code> 
<pre>
<code>
TStream&lt;String> s = ...
TStream&lt;String> filtered = s.filter(new Predicate&lt;String>() {
             &#64;Override
             public boolean test(String tuple) {
                 return !tuple.isEmpty();
             }} );
</code>
</pre>
<a href="com/teracloud/streams/topology/TStream.html#filter(com.teracloud.streams.topology.function.Predicate)"><code>s.filter()</code></a> is passed an instance of
<a href="com/teracloud/streams/topology/function/Predicate.html" title="interface in com.teracloud.streams.topology.function"><code>Predicate</code></a>, and sets up a filter
where the output stream <code>filtered</code> will only contain tuples from the
input stream <code>s</code> if the method <code>test()</code> returns <code>true</code>.
This implementation of <code>Predicate</code>, provided as an anonymous class,
returns true if the input tuple (a <code>String</code> object) is not empty.
At runtime, every <code>String</code> tuple that appears on <code>s</code> will result in a
call to <code>test</code>, if the <code>String</code> tuple is not empty, then <code>filtered</code> will
contain the <code>String</code> tuple.
<H3>Java 8</H3>
With Java 8 lambda expressions or method references can be used to provide the function.
Using a lambda expression the above example simplifies to:
<pre>
<code>
TStream&lt;String> s = ...
TStream&lt;String> filtered = s.filter(tuple -> !tuple.isEmpty());
</code>
</pre>
<BR>
Java 8 is supported by Streams 4.0.1 and later. 
</P>
<H2>Features</H2>
These features are supported:
<TABLE class="overviewSummary" border="1" style="width:80%">
<TR><TH>Feature</TH><TH>Reference</TH><TH>Since</TH></TR>

<TR class="rowColor"><TD>Tuple types are Java objects.</TD><TD><a href="com/teracloud/streams/topology/TStream.html" title="interface in com.teracloud.streams.topology"><code>TStream</code></a></TD><TD>1.0</TD></TR>

<TR class="altColor"><TD>Functional programming, streams are transformed, filtered etc. by functional transformations
implemented as Java functions. A Java function is an implementation of interface with a single method,
or when using Java 8 a lambda expression or a method reference.</TD><TD><a href="com/teracloud/streams/topology/TStream.html" title="interface in com.teracloud.streams.topology"><code>TStream</code></a></TD><TD>1.0</TD></TR>

<TR class="rowColor"><TD>Execution within the Java virtual machine, Streams
4.0.1+ Streams standalone or distributed &amp; IBM Bluemix</TD><TD><a href="com/teracloud/streams/topology/context/StreamsContext.html" title="interface in com.teracloud.streams.topology.context"><code>StreamsContext</code></a></TD><TD>1.0</TD></TR>

<TR class="altColor"><TD>Pipeline topologies.</TD><TD><a href="com/teracloud/streams/topology/Topology.html" title="class in com.teracloud.streams.topology"><code>Topology</code></a></TD><TD>1.0</TD></TR>
<TR class="rowColor"><TD>Fan-out, multiple independent functions may be applied to a
single stream to produce multiple streams of different or the same type.</TD><TD><a href="com/teracloud/streams/topology/TStream.html" title="interface in com.teracloud.streams.topology"><code>TStream</code></a></TD><TD>1.0</TD></TR>
<TR class="altColor"><TD>Fan-in, multiple independent streams of the same type may transformed by a
single function to produce a single stream.</TD><TD><a href="com/teracloud/streams/topology/TStream.html#union(com.teracloud.streams.topology.TStream)"><code>union</code></a></TD><TD>1.0</TD></TR>

<TR class="rowColor"><TD>Window based aggregation and joins, including partitioning.</TD><TD><a href="com/teracloud/streams/topology/TWindow.html" title="interface in com.teracloud.streams.topology"><code>TWindow</code></a></TD><TD>1.0</TD></TR>
<TR class="altColor"><TD>Parallel streams (UDP, User Defined Parallelism), including partitioning.</TD><TD><a href="com/teracloud/streams/topology/TStream.html#parallel(int)"><code>parallel</code></a></TD><TD>1.0</TD></TR>
<TR class="rowColor"><TD>Topic based publish-subscribe stream model for cross application communication (Streams dynamic connections).</TD>
<TD><a href="com/teracloud/streams/topology/TStream.html#publish(java.lang.String)"><code>publish</code></a>, <a href="com/teracloud/streams/topology/Topology.html#subscribe(java.lang.String,java.lang.Class)"><code>subscribe</code></a></TD><TD>1.0</TD></TR>

<TR class="altColor"><TD>Ability to specify where portions of the topology will execute in distributed mode, including
running on resources (hosts) with specified tags.</TD>
<TD><a href="com/teracloud/streams/topology/context/Placeable.html" title="interface in com.teracloud.streams.topology.context"><code>Placeable</code></a>,
<a href="com/teracloud/streams/topology/TStream.html#isolate()"><code>isolate</code></a>,
<a href="com/teracloud/streams/topology/TStream.html#lowLatency()"><code>lowLatency</code></a></TD><TD>1.0</TD></TR>
<TR class="rowColor"><TD>Integration with Apache Kafka and MQTT messaging systems</TD><TD>
<a href="com/teracloud/streams/topology/messaging/kafka/KafkaConsumer.html" title="class in com.teracloud.streams.topology.messaging.kafka"><code>Kafka</code></a>, <a href="com/teracloud/streams/topology/messaging/mqtt/MqttStreams.html" title="class in com.teracloud.streams.topology.messaging.mqtt"><code>MQTT</code></a></TD><TD>1.0</TD></TR>

<TR class="altColor"><TD>Testing of topologies, including those using SPL operators,
while running in distributed, standalone or embedded.</TD><TD><a href="com/teracloud/streams/topology/tester/Tester.html" title="interface in com.teracloud.streams.topology.tester"><code>Tester</code></a></TD><TD>1.0</TD></TR>

<TR class="rowColor"><TD>Integration with SPL streams using SPL attribute schemas.</TD><TD><a href="com/teracloud/streams/topology/spl/SPLStream.html" title="interface in com.teracloud.streams.topology.spl"><code>SPLStream</code></a></TD><TD>1.0</TD></TR>
<TR class="altColor"><TD>Invocation of existing SPL primitive or composite operators.</TD><TD><a href="com/teracloud/streams/topology/spl/SPL.html" title="class in com.teracloud.streams.topology.spl"><code>SPL</code></a></TD><TD>1.0</TD></TR>
</TABLE>

<H2>Samples</H2>
A number of sample Java applications are provided under samples. The samples declare a topology and then execute it,
the Apache Ant <code>build.xml</code> file includes some targets for executing the samples, demonstrating the correct class path.
<BR>
The javadoc for the samples includes the sample source code (click on the class name of a sample), and is also copied
into the SPL toolkit for reference, and is available here: <a href="../samples/javadoc/index.html" target="_blank">Java Functional Samples</a>
<h2>Declaring a Topology</h2>
Java code is used to create a streaming topology, or graph, starting with the <a href="com/teracloud/streams/topology/Topology.html" title="class in com.teracloud.streams.topology"><code>Topology</code></a>
object and then creating instances of <a href="com/teracloud/streams/topology/TStream.html" title="interface in com.teracloud.streams.topology"><code>TStream</code></a> by:
<UL>
<LI>&bull; Invoking methods such as <a href="com/teracloud/streams/topology/Topology.html#source(com.teracloud.streams.topology.function.Supplier)"><code>source</code></a> to produce a source stream.</LI>
<LI>&bull; Invoking utility static methods that declare a source stream, such as those in <a href="com/teracloud/streams/topology/streams/BeaconStreams.html" title="class in com.teracloud.streams.topology.streams"><code>BeaconStreams</code></a>.</LI>
<LI>&bull; Invoking methods such as <a href="com/teracloud/streams/topology/TStream.html#filter(com.teracloud.streams.topology.function.Predicate)"><code>filter</code></a>
 to produce a stream derived from another stream.</LI>
</UL>
<BR>
Streams are terminated by <a href="com/teracloud/streams/topology/TStream.html#sink(com.teracloud.streams.topology.function.Consumer)"><code>sinks</code></a>, typically the tuples are sent to an external system by the sink function.
<P>
A topology may be arbitrarily complex, including multiple sources and sinks, fan-out on any stream by having multiple functional transformations or fan-in
by creating a <a href="com/teracloud/streams/topology/TStream.html#union(com.teracloud.streams.topology.TStream)"><code>union</code></a> of streams with identical tuple types.
</P>
<P>
Creating the <code>Topology</code> and its streams as instances of <code>TStream</code> just declares how tuples will flow,
it is not a runtime representation of the graph. The <code>TStream</code> is submitted to a 
<a href="com/teracloud/streams/topology/context/StreamsContext.html" title="interface in com.teracloud.streams.topology.context"><code>StreamsContext</code></a> in order to execute the graph. 
<h2>Java compilation and execution</h2>
The API requires these jar files to be in the classpath for compilation and execution:
<UL>
<LI>&bull; <code>com.teracloud.streams.topology/lib/com.teracloud.streams.topology.jar</code> - Jar for this API.</LI>
<LI>&bull; <code>$STREAMS_INSTALL/lib/com.ibm.streams.operator.samples.jar</code> - Streams Java Operator API and samples.</LI>
</UL>
<BR>
<H2>Testing</H2>
The API includes the ability to test topologies, by allow the test program to capture the output tuples of a stream (<code>TStream</code>)
and validate them. This is described in the <code>com.teracloud.streams.topology.tester</code> package overview.

<H2>Integration with SPL</H2>
While the design goal for the API is to not require knowledge of SPL, developers familiar with SPL may also
utilize some
<a href="com/teracloud/streams/topology/spl/SPL.html" title="class in com.teracloud.streams.topology.spl"><code>SPL primitive and composite operators</code></a>
from existing toolkits and use
<a href="com/teracloud/streams/topology/spl/SPLStream.html" title="interface in com.teracloud.streams.topology.spl"><code>streams that have SPL schemas</code></a>.
<BR></div>
<div id="all-packages-table">
<div class="caption"><span>Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/rest/package-summary.html">com.teracloud.streams.rest</a></div>
<div class="col-last even-row-color all-packages-table all-packages-table-tab1">
<div class="block">Java bindings for the REST APIs of Streams.</div>
</div>
<div class="col-first odd-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/package-summary.html">com.teracloud.streams.topology</a></div>
<div class="col-last odd-row-color all-packages-table all-packages-table-tab1">
<div class="block">Java application API for Streams.</div>
</div>
<div class="col-first even-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/consistent/package-summary.html">com.teracloud.streams.topology.consistent</a></div>
<div class="col-last even-row-color all-packages-table all-packages-table-tab1">
<div class="block">At least once processing using consistent regions.</div>
</div>
<div class="col-first odd-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/context/package-summary.html">com.teracloud.streams.topology.context</a></div>
<div class="col-last odd-row-color all-packages-table all-packages-table-tab1">
<div class="block">Context for executing Streams Java topologies.</div>
</div>
<div class="col-first even-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/file/package-summary.html">com.teracloud.streams.topology.file</a></div>
<div class="col-last even-row-color all-packages-table all-packages-table-tab1">
<div class="block">File related streams.</div>
</div>
<div class="col-first odd-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/function/package-summary.html">com.teracloud.streams.topology.function</a></div>
<div class="col-last odd-row-color all-packages-table all-packages-table-tab1">
<div class="block">Classes that provide the mechanisms to
 implement functional transformations on streams.</div>
</div>
<div class="col-first even-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/inet/package-summary.html">com.teracloud.streams.topology.inet</a></div>
<div class="col-last even-row-color all-packages-table all-packages-table-tab1">
<div class="block">Network access to streaming data.</div>
</div>
<div class="col-first odd-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/jobconfig/package-summary.html">com.teracloud.streams.topology.jobconfig</a></div>
<div class="col-last odd-row-color all-packages-table all-packages-table-tab1">&nbsp;</div>
<div class="col-first even-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/json/package-summary.html">com.teracloud.streams.topology.json</a></div>
<div class="col-last even-row-color all-packages-table all-packages-table-tab1">
<div class="block">JSON streams.</div>
</div>
<div class="col-first odd-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/logic/package-summary.html">com.teracloud.streams.topology.logic</a></div>
<div class="col-last odd-row-color all-packages-table all-packages-table-tab1">
<div class="block">Utilities and implementations of functional logic.</div>
</div>
<div class="col-first even-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/messaging/kafka/package-summary.html">com.teracloud.streams.topology.messaging.kafka</a></div>
<div class="col-last even-row-color all-packages-table all-packages-table-tab1">
<div class="block">Support for integrating with the Apache Kafka messaging system
 <a href="http://kafka.apache.org">http://kafka.apache.org</a>.</div>
</div>
<div class="col-first odd-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/messaging/mqtt/package-summary.html">com.teracloud.streams.topology.messaging.mqtt</a></div>
<div class="col-last odd-row-color all-packages-table all-packages-table-tab1">
<div class="block">Support for integrating with the MQTT messaging system
 <a href="http://mqtt.org">http://mqtt.org</a>.</div>
</div>
<div class="col-first even-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/spl/package-summary.html">com.teracloud.streams.topology.spl</a></div>
<div class="col-last even-row-color all-packages-table all-packages-table-tab1">
<div class="block">Integration between Streams SPL and Java applications.</div>
</div>
<div class="col-first odd-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/streams/package-summary.html">com.teracloud.streams.topology.streams</a></div>
<div class="col-last odd-row-color all-packages-table all-packages-table-tab1">
<div class="block">Utilities to create and transform streams.</div>
</div>
<div class="col-first even-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/tester/package-summary.html">com.teracloud.streams.topology.tester</a></div>
<div class="col-last even-row-color all-packages-table all-packages-table-tab1">
<div class="block">Support for testing of topologies.</div>
</div>
<div class="col-first odd-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/tester/junit/package-summary.html">com.teracloud.streams.topology.tester.junit</a></div>
<div class="col-last odd-row-color all-packages-table all-packages-table-tab1">&nbsp;</div>
<div class="col-first even-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/tester/spl/package-summary.html">com.teracloud.streams.topology.tester.spl</a></div>
<div class="col-last even-row-color all-packages-table all-packages-table-tab1">&nbsp;</div>
<div class="col-first odd-row-color all-packages-table all-packages-table-tab1"><a href="com/teracloud/streams/topology/tuple/package-summary.html">com.teracloud.streams.topology.tuple</a></div>
<div class="col-last odd-row-color all-packages-table all-packages-table-tab1">
<div class="block">Interfaces for tuple types.</div>
</div>
</div>
</div>
</main>
</div>
</div>
</body>
</html>
