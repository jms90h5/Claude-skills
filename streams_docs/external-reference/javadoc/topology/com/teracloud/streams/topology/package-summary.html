<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>com.teracloud.streams.topology (Java Application API for Streams)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.teracloud.streams.topology">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package com.teracloud.streams.topology" class="title">Package com.teracloud.streams.topology</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">com.teracloud.streams.topology</span></div>
<section class="package-description" id="package-description">
<div class="block">Java application API for Streams.
 
 This API is used to generate streaming topologies for
 execution by Streams 4.0.1 or later. An instance
 of <a href="Topology.html" title="class in com.teracloud.streams.topology"><code>Topology</code></a> is created
 that then is used to build a topology (or graph) of
 streams, represented by <a href="TStream.html" title="interface in com.teracloud.streams.topology"><code>TStream</code></a>
 instances. This topology is the declaration of the application,
 and it may then be :
 <UL>
 <LI>Submitted to an Streams instance.</LI>
 <LI>Executed as an Streams standalone application.</LI>
 <LI>Compiled into an Streams application bundle (<code>.sab</code> file).</LI>
 <LI>Executed within the local JVM (not all toppologies are supported).</LI>
 </UL>
 
 A <a href="TStream.html" title="interface in com.teracloud.streams.topology"><code>TStream</code></a> represents a continuous stream of tuples
 with a specific type <code>T</code>. Streams are transformed into
 new streams through functional transformations, defined using
 a single method of an interface like <a href="function/Function.html" title="interface in com.teracloud.streams.topology.function"><code>Function</code></a>.
 <P>
 A transformation consists of an instance of a functional interface,
 known as the <i>functional logic</i>
 and how that logic is applied against tuples on the stream.
 
 The method on <code>TStream</code> the <i>functional logic</i> is
 passed into to create a new stream, declares how the <i>functional logic</i>
 is applied, for example:
 <UL>
 <LI>
  <a href="TStream.html#filter(com.teracloud.streams.topology.function.Predicate)"><code>TStream.filter(com.teracloud.streams.topology.function.Predicate)</code></a> declares that the <i>functional logic</i> will be
  called for each tuple on the stream, and if it returns <code>true</code> then the
  input tuple is submitted to the new stream, otherwise the input tuple is discarded.
 </LI>
 <LI>
 <a href="TStream.html#transform(com.teracloud.streams.topology.function.Function)"><code>TStream.transform(com.teracloud.streams.topology.function.Function)</code></a> declares that the <i>functional logic</i> will be
  called for each tuple and its return value will be submitted to the output stream, unless
  it is <code>null</code>, in which case no tuple will be submitted.
 </LI>
 </UL>
 <h3>Functional Logic semantics</h3>
 <h4>Declaring Functional Logic</h4>
 When declaring (building) the topology any <i>functional logic</i> is an instance
 of a Java interface, such as <a href="function/Predicate.html" title="interface in com.teracloud.streams.topology.function"><code>Predicate</code></a>.
 These objects are <b> always </b> serialized and deserialized before being
 executed against tuples on streams, regardless of the type of the <code>StreamsContext</code>.
 <BR>
 <UL>
 <LI> If the instance is declared using an anonymous class then it should be declared in
 a static context (e.g. static method). If the anonymous class is <b>not</b> declared in a
 static context then it will also capture the reference of the object that declares it,
 typically this object (the code declaring the topology) will not be serializable,
 and is not required by the anonymous class for execution.
 </li>
 <ul>
 <li>
 The code declaring the topology passes parameters into an anonymous class by
 having local variables or method parameters that are <code>final</code> and thus
 can be captured by the anonymous class.
 </li>
 <li>
 The code within an anonymous class must not reference any static fields set up
 by the code declaring the topology, as the code declaring the topology
 is not executed when the topology itself is executed. For example a method
 in an anonymous class that references a static file name set when
 declaring the topology, will not see that value when executing at runtime.
 </li>
 </ul>
 <li>
 When the functional logic is deserialized before being executed at runtime,
 its constructor is not called. Thus any transient fields either need to
 be initialized on their first use or using the Java serialization hooks
 <code>readObject()</code> or <code>readResolve()</code>. The sample <code>RegexGrep</code>
 has an example of this.
 </li>
 <li>
 A single deserialized instance of functional logic is called for all tuples on each
 <a href="TStream.html#parallel(int)"><code>parallel channel</code></a>, when the stream is not parallelized
 a single instance is called.
 </li>
 </UL>
 <h4>Synchronization of Functional Logic</h4>
 <UL>
 <LI>
 Call to a functional logic are not executed concurrently. 
 </LI>
 <LI>
 Each call to a functional logic <i>happens-before</i> any subsequent call to it. 
 </LI>
 </UL>
 <BR>
 Thus there is no need for a functional logic to have synchronization to protect state
 from multiple concurrent calls or to ensure visibility.
 
 <h4>Stateful Functional Logic</h4>
 A functional logic instance lives for the lifetime of its container (embedded JVM, standalone process
 or processing element in distributed mode),
 thus it may maintain state across the invocations of its method. For a de-duplicating
 <a href="function/Predicate.html" title="interface in com.teracloud.streams.topology.function"><code>Predicate</code></a> may maintain a collection of
 previously seen tuples on the stream to filter out duplicates.
 <BR>
 In distributed mode, if a processing element (PE) restarts then any state will be lost and
 a new functional logic instance set to its initial deserialized state is created.
 <BR>
 For future compatibility:
 <ul>
 <li>
 any state that should not be persisted on a checkpoint
 must be marked as <code>transient</code>, such as connections to external systems.</li>
 <li>
 any non-changing instance fields should be marked as <code>final</code>.
 </li>
 </ul>
 <H3>Pass by reference semantics for tuples</H3>
 Where possible, tuples are passed by reference from one stream to another,
 thus in a general case, a tuple (as a Java object) is returned from one
 <i>functional logic</i> instance and passed into one or more downstream <i>functional logic</i>
 instances, using its reference.
 For example, with the flow:
 <BR>
 <code>s.transform(trans1).filter(filt).transform(trans2)</code>
 <BR>
 a tuple <code>t</code> returned from <code>trans1.apply(t)</code>
 may be passed directly as <code>filt.test(t)</code> and to <code>trans2.apply(t)</code> if
 the former returned <code>true</code>.
 <BR>
 When a tuple is not, or can not, be passed by reference, for example
 when <i>functional logic</i> instances are being executed on different
 hosts in a distributed environment, then the tuple object will passed using
 serialization and de-serialization.
 <H4>Ensuring consistent behavior</H4>
 To ensure consistent behavior regardless of how the topology is executed,
 these recommendations should be followed:
 <UL>
 <LI>
 Where possible <code>TStream</code> types should be immutable, which means any downstream
 <i>functional logic</i> cannot modify any tuple through its reference. Thus a
 reference to a tuple may be safely passed to multiple downstream <i>functional logic</i>
 instances.
 </LI>
 <LI>
 Any <i>functional logic</i> discards any reference to any mutable returned item, thus any
 change made to an mutable tuple object are not seen by any upstream <i>functional logic</i>.
 </LI>
 <LI>
 Any <i>functional logic</i> discards any reference to any mutable argument when it returns
 from its method.</i>.
 </LI>
 </UL>
  <h3>Included Libraries</h3>
  This API requires the Streams Java Operator API
  which results in these libraries in the class path:
  <UL>
  <LI>
  Streams Java Operator API - <code>$STREAMS_INSTALL/lib/com.ibm.streams.operator.jar</code></LI>
  <LI>
  Streams Java Operator samples - <code>$STREAMS_INSTALL/lib/com.ibm.streams.operator.samples.jar</code></LI>
  <LI>Apache Commons Math 3.6.1 - <code>$STREAMS_INSTALL/ext/lib/commons-math-3.6.1.jar</code></LI>
  <LI>Apache Log4j2 1.2 API - <code>$STREAMS_INSTALL/ext/lib/log4j-1.2-api-2.23.1.jar</code></LI>
  <LI><a target="_blank" href="https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.web2mobile.json.help/javadoc/index.html">JSON4J</a> - <code>$STREAMS_INSTALL/ext/lib/JSON4J.jar</code></LI>
  </UL></div>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="consistent/package-summary.html">com.teracloud.streams.topology.consistent</a></div>
<div class="col-last even-row-color">
<div class="block">At least once processing using consistent regions.</div>
</div>
<div class="col-first odd-row-color"><a href="context/package-summary.html">com.teracloud.streams.topology.context</a></div>
<div class="col-last odd-row-color">
<div class="block">Context for executing Streams Java topologies.</div>
</div>
<div class="col-first even-row-color"><a href="file/package-summary.html">com.teracloud.streams.topology.file</a></div>
<div class="col-last even-row-color">
<div class="block">File related streams.</div>
</div>
<div class="col-first odd-row-color"><a href="function/package-summary.html">com.teracloud.streams.topology.function</a></div>
<div class="col-last odd-row-color">
<div class="block">Classes that provide the mechanisms to
 implement functional transformations on streams.</div>
</div>
<div class="col-first even-row-color"><a href="inet/package-summary.html">com.teracloud.streams.topology.inet</a></div>
<div class="col-last even-row-color">
<div class="block">Network access to streaming data.</div>
</div>
<div class="col-first odd-row-color"><a href="jobconfig/package-summary.html">com.teracloud.streams.topology.jobconfig</a></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><a href="json/package-summary.html">com.teracloud.streams.topology.json</a></div>
<div class="col-last even-row-color">
<div class="block">JSON streams.</div>
</div>
<div class="col-first odd-row-color"><a href="logic/package-summary.html">com.teracloud.streams.topology.logic</a></div>
<div class="col-last odd-row-color">
<div class="block">Utilities and implementations of functional logic.</div>
</div>
<div class="col-first even-row-color"><a href="spl/package-summary.html">com.teracloud.streams.topology.spl</a></div>
<div class="col-last even-row-color">
<div class="block">Integration between Streams SPL and Java applications.</div>
</div>
<div class="col-first odd-row-color"><a href="streams/package-summary.html">com.teracloud.streams.topology.streams</a></div>
<div class="col-last odd-row-color">
<div class="block">Utilities to create and transform streams.</div>
</div>
<div class="col-first even-row-color"><a href="tester/package-summary.html">com.teracloud.streams.topology.tester</a></div>
<div class="col-last even-row-color">
<div class="block">Support for testing of topologies.</div>
</div>
<div class="col-first odd-row-color"><a href="tuple/package-summary.html">com.teracloud.streams.topology.tuple</a></div>
<div class="col-last odd-row-color">
<div class="block">Interfaces for tuple types.</div>
</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab1" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab1', 2)" class="table-tab">Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button><button id="class-summary-tab3" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab3', 2)" class="table-tab">Enum Classes</button></div>
<div id="class-summary.tabpanel" role="tabpanel" aria-labelledby="class-summary-tab0">
<div class="summary-table two-column-summary">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Topology.html" title="class in com.teracloud.streams.topology">Topology</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A declaration of a topology of streaming data.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="TopologyElement.html" title="interface in com.teracloud.streams.topology">TopologyElement</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Any element in a <a href="Topology.html" title="class in com.teracloud.streams.topology"><code>Topology</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="TSink.html" title="interface in com.teracloud.streams.topology">TSink</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">A handle to the <code>sink</code> of a <code>TStream</code>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="TStream.html" title="interface in com.teracloud.streams.topology">TStream</a>&lt;T&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">A <code>TStream</code> is a declaration of a continuous sequence of tuples.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab3"><a href="TStream.Routing.html" title="enum class in com.teracloud.streams.topology">TStream.Routing</a></div>
<div class="col-last even-row-color class-summary class-summary-tab3">
<div class="block">Enumeration for routing tuples to parallel channels.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="TWindow.html" title="interface in com.teracloud.streams.topology">TWindow</a>&lt;T,<wbr>K&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Declares a window of tuples for a <a href="TStream.html" title="interface in com.teracloud.streams.topology"><code>TStream</code></a>.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
</div>
</div>
</body>
</html>
