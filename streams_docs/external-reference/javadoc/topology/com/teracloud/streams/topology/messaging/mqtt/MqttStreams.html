<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>MqttStreams (Java Application API for Streams)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.teracloud.streams.topology.messaging.mqtt, class: MqttStreams">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.teracloud.streams.topology.messaging.mqtt</a></div>
<h1 title="Class MqttStreams" class="title">Class MqttStreams</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.teracloud.streams.topology.messaging.mqtt.MqttStreams</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">MqttStreams</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">A simple connector to a MQTT broker for publishing
 <code>TStream&lt;Message&gt;</code> tuples to MQTT topics, and
 subscribing to MQTT topics and creating <code>TStream&lt;Message&gt;</code> streams.
 <p>
 A connector is for a specific MQTT Broker as specified in
 the configuration. Any number of <code>publish()</code> and <code>subscribe()</code>
 connections may be created from a single MqttStreams connector.
 <p>
 Sample use:
 <pre><code>
 Topology t = new Topology("An MQTT application");
 // optionally, define submission properties for configuration information
 Supplier&lt;T&gt; serverID = t.createSubmissionParameter("mqtt.serverID", "tcp://localhost:1883");
 Supplier&lt;T&gt; userID = t.createSubmissionParameter("mqtt.userID", System.getProperty("user.name"));
 Supplier&lt;T&gt; password = t.createSubmissionParameter("mqtt.password", String.class);
 Supplier&lt;T&gt; pubTopic = t.createSubmissionParameter("mqtt.pubTopic", String.class);
 Supplier&lt;T&gt; subTopic = t.createSubmissionParameter("mqtt.subTopic", String.class);
 
 // create the connector's configuration property map
 Map&lt;String,Object&gt; config = new HashMap&lt;&gt;();
 config.put("serverID", serverID);
 config.put("userID", userID);
 config.put("password", password);
 
 // create the connector
 MqttStreams mqtt = new MqttStreams(t, config);
 
 // publish to the submission parameter "pubTopic"
 TStream&lt;Message&gt; msgsToPublish = ...
 mqtt.publish(msgsToPublish, pubTopic);
 
 // publish to a compile time topic
 // with Java8 Lambda expression...
 mqtt.publish(msgsToPublish, ()-&gt;"anotherTopic");
 // without Java8...
 mqtt.publish(msgsToPublish, new Value("anotherTopic"));
 
 // subscribe to the submission parameter "subTopic"
 TStream&lt;Message&gt; rcvdMsgs = mqtt.subscribe(subTopic);
 rcvdMsgs.print();
 
 // subscribe to a compile time topic
 // with Java8 Lambda expression...
 TStream&lt;Message&gt; rcvdMsgs2 = mqtt.subscribe(()-&gt;"anotherTopic");
 // without Java8...
 TStream&lt;Message&gt; rcvdMsgs2 = mqtt.subscribe(new Value("anotherTopic"));
 </code></pre>
 <p>
 Configuration properties apply to <code>publish</code> and
 <code>subscribe</code> unless stated otherwise.
 <br>
 All properties may be specified as submission parameters unless
 stated otherwise.  
 See <a href="../../Topology.html#createSubmissionParameter(java.lang.String,java.lang.Class)"><code>Topology.createSubmissionParameter(String, Class)</code></a>.
 <p>
 <table border=1>
 <tr><th>Property</th><th>Description</th></tr>
 <tr><td>serverURI</td>
      <td>Required String. URI to the MQTT server, either
      <code>tcp://&lt;hostid&gt;[:&lt;port&gt;]</code>
      or <code>ssl://&lt;hostid&gt;[:&lt;port&gt;]</code>. 
      The port defaults to 1883 for "tcp:" and 8883 for "ssl:" URIs.
      </td></tr>
 <tr><td>clientID</td>
      <td>Optional String. A unique identifier for a connection
      to the MQTT server. 
      The MQTT broker only allows a single
      connection for a particular <code>clientID</code>.
      By default a unique client ID is automatically
      generated for each use of <code>publish()</code> and <code>subscribe()</code>.
      The specified clientID is used for the first
      use <code>publish()</code> or <code>subscribe()</code> use and
      suffix is added for each subsequent uses.
      </td></tr>
 <tr><td>keepAliveInterval</td>
      <td>Optional Integer.  Automatically generate a MQTT
      ping message to the server if a message or ping hasn't been
      sent or received in the last keelAliveInterval seconds.  
      Enables the client to detect if the server is no longer available
      without having to wait for the TCP/IP timeout.  
      A value of 0 disables keepalive processing.
      The default is 60.
      </td></tr>
 <tr><td>commandTimeoutMsec</td>
      <td>Optional Long. The maximum time in milliseconds
      to wait for a MQTT connect or publish action to complete.
      A value of 0 causes the client to wait indefinitely.
      The default is 0.
      </td></tr>
 <tr><td>reconnectDelayMsec</td>
      <td>Optional Long. The time in milliseconds before
      attempting to reconnect to the server following a connection failure.
      The default is 60000.
      </td></tr>
 <tr><td>userID</td>
      <td>Optional String.  The identifier to use when authenticating
      with a server configured to require that form of authentication.
      </td></tr>
 <tr><td>password</td>
      <td>Optional String.  The identifier to use when authenticating
      with server configured to require that form of authentication.
      </td></tr>
 <tr><td>trustStore</td>
      <td>Optional String. The pathname to a file containing the
      public certificate of trusted MQTT servers.  If a relative path
      is specified, the path is relative to the application directory.
      Required when connecting to a MQTT server with an 
      ssl:/... serverURI.
      </td></tr>
 <tr><td>trustStorePassword</td>
      <td>Required String when <code>trustStore</code> is used.
      The password needed to access the encrypted trustStore file.
      </td></tr>
 <tr><td>keyStore</td>
      <td>Optional String. The pathname to a file containing the
      MQTT client's public private key certificates.
      If a relative path is specified, the path is relative to the
      application directory. 
      Required when an MQTT server is configured to use SSL client authentication.
      </td></tr>
 <tr><td>keyStorePassword</td>
      <td>Required String when <code>keyStore</code> is used.
      The password needed to access the encrypted keyStore file.
      </td></tr>
 <tr><td>receiveBufferSize</td>
      <td>[subscribe] Optional Integer. The size, in number
      of messages, of the subscriber's internal receive buffer.  Received
      messages are added to the buffer prior to being converted to a
      stream tuple. The receiver blocks when the buffer is full.
      The default is 50.
      </td></tr>
 <tr><td>retain</td>
      <td>[publish] Optional Boolean. Indicates if messages should be
      retained on the MQTT server.  Default is false.
      </td></tr>
 <tr><td>defaultQOS</td>
      <td>Optional Integer. The default
      MQTT quality of service used for message handling.
      The default is 0.
      </td></tr>
 </table></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="http://mqtt.org">http://mqtt.org</a></li>
<li><code>com.teracloud.streams.messaging</code></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.teracloud.streams.topology.TopologyElement,java.util.Map)" class="member-name-link">MqttStreams</a><wbr>(<a href="../../TopologyElement.html" title="interface in com.teracloud.streams.topology">TopologyElement</a>&nbsp;te,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;config)</code></div>
<div class="col-last even-row-color">
<div class="block">Create a MQTT connector for publishing tuples to topics
 subscribing to topics.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConfig()" class="member-name-link">getConfig</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the connector's configuration information.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../TSink.html" title="interface in com.teracloud.streams.topology">TSink</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#publish(com.teracloud.streams.topology.TStream)" class="member-name-link">publish</a><wbr>(<a href="../../TStream.html" title="interface in com.teracloud.streams.topology">TStream</a>&lt;? extends <a href="../../tuple/Message.html" title="interface in com.teracloud.streams.topology.tuple">Message</a>&gt;&nbsp;stream)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Publish <code>stream</code> tuples to one or more MQTT topics.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../TSink.html" title="interface in com.teracloud.streams.topology">TSink</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#publish(com.teracloud.streams.topology.TStream,com.teracloud.streams.topology.function.Supplier)" class="member-name-link">publish</a><wbr>(<a href="../../TStream.html" title="interface in com.teracloud.streams.topology">TStream</a>&lt;? extends <a href="../../tuple/Message.html" title="interface in com.teracloud.streams.topology.tuple">Message</a>&gt;&nbsp;stream,
 <a href="../../function/Supplier.html" title="interface in com.teracloud.streams.topology.function">Supplier</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;topic)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Publish <code>stream</code> tuples to one or more MQTT topics.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../TStream.html" title="interface in com.teracloud.streams.topology">TStream</a>&lt;<a href="../../tuple/Message.html" title="interface in com.teracloud.streams.topology.tuple">Message</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#subscribe(com.teracloud.streams.topology.function.Supplier)" class="member-name-link">subscribe</a><wbr>(<a href="../../function/Supplier.html" title="interface in com.teracloud.streams.topology.function">Supplier</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;topic)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Subscribe to a MQTT topic and create a stream of messages.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.teracloud.streams.topology.TopologyElement,java.util.Map)">
<h3>MqttStreams</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MqttStreams</span><wbr><span class="parameters">(<a href="../../TopologyElement.html" title="interface in com.teracloud.streams.topology">TopologyElement</a>&nbsp;te,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;config)</span></div>
<div class="block">Create a MQTT connector for publishing tuples to topics
 subscribing to topics.
 <p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>te</code> - <a href="../../TopologyElement.html" title="interface in com.teracloud.streams.topology"><code>TopologyElement</code></a></dd>
<dd><code>config</code> - configuration property information.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getConfig()">
<h3>getConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</span>&nbsp;<span class="element-name">getConfig</span>()</div>
<div class="block">Get the connector's configuration information.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the unmodifiable configuration</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="publish(com.teracloud.streams.topology.TStream)">
<h3>publish</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../TSink.html" title="interface in com.teracloud.streams.topology">TSink</a></span>&nbsp;<span class="element-name">publish</span><wbr><span class="parameters">(<a href="../../TStream.html" title="interface in com.teracloud.streams.topology">TStream</a>&lt;? extends <a href="../../tuple/Message.html" title="interface in com.teracloud.streams.topology.tuple">Message</a>&gt;&nbsp;stream)</span></div>
<div class="block">Publish <code>stream</code> tuples to one or more MQTT topics.
 <p>
 Each <code>stream</code> tuple is sent to the topic specified by its
 <a href="../../tuple/Message.html#getTopic()"><code>Message.getTopic()</code></a> value.
 The <a href="../../tuple/Message.html#getKey()"><code>Message.getKey()</code></a> field is ignored.
 <p>
 The message is handled with the quality of service indicated
 by configuration property <code>defaultQOS</code>.
 <p>
 Same as <code>publish(stream, null)</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>stream</code> - the stream to publish</dd>
<dt>Returns:</dt>
<dd>the sink element</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="publish(com.teracloud.streams.topology.TStream,com.teracloud.streams.topology.function.Supplier)">
<h3>publish</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../TSink.html" title="interface in com.teracloud.streams.topology">TSink</a></span>&nbsp;<span class="element-name">publish</span><wbr><span class="parameters">(<a href="../../TStream.html" title="interface in com.teracloud.streams.topology">TStream</a>&lt;? extends <a href="../../tuple/Message.html" title="interface in com.teracloud.streams.topology.tuple">Message</a>&gt;&nbsp;stream,
 <a href="../../function/Supplier.html" title="interface in com.teracloud.streams.topology.function">Supplier</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;topic)</span></div>
<div class="block">Publish <code>stream</code> tuples to one or more MQTT topics.
 <p>
 If <code>topic</code> is null, each tuple is published to the topic
 specified by its <a href="../../tuple/Message.html#getTopic()"><code>Message.getTopic()</code></a>.
 Otherwise, all tuples are published to <code>topic</code>.
 <p>
 The messages added to MQTT include a topic and message.
 The <a href="../../tuple/Message.html#getKey()"><code>Message.getKey()</code></a> field is ignored.
 <p>
 The message is handled with the quality of service
 indicated by configuration property <code>defaultQOS</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>stream</code> - the stream to publish</dd>
<dd><code>topic</code> - topic to publish to.  May be a submission parameter. May be null.</dd>
<dt>Returns:</dt>
<dd>the sink element</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../logic/Value.html" title="class in com.teracloud.streams.topology.logic"><code>Value</code></a></li>
<li><a href="../../Topology.html#createSubmissionParameter(java.lang.String,java.lang.Class)"><code>Topology.createSubmissionParameter(String, Class)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="subscribe(com.teracloud.streams.topology.function.Supplier)">
<h3>subscribe</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../TStream.html" title="interface in com.teracloud.streams.topology">TStream</a>&lt;<a href="../../tuple/Message.html" title="interface in com.teracloud.streams.topology.tuple">Message</a>&gt;</span>&nbsp;<span class="element-name">subscribe</span><wbr><span class="parameters">(<a href="../../function/Supplier.html" title="interface in com.teracloud.streams.topology.function">Supplier</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;topic)</span></div>
<div class="block">Subscribe to a MQTT topic and create a stream of messages.
 <p>
 The quality of service for handling each topic is
 the value of configuration property <code>defaultQOS</code>.
 <p> 
 N.B., A topology that includes this will not support
 <code>StreamsContext.Type.EMBEDDED</code>.
 <p>
 N.B. terminating a <code>StreamsContext.Type.STANDALONE</code> topology may result
 in ERROR messages and a stranded standalone process.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>topic</code> - the MQTT topic.  May be a submission parameter.</dd>
<dt>Returns:</dt>
<dd>TStream&lt;Message>
      The generated <code>Message</code> tuples have a non-null <code>topic</code>.
      The tuple's <code>key</code> will be null.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if topic is null.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../../logic/Value.html" title="class in com.teracloud.streams.topology.logic"><code>Value</code></a></li>
<li><a href="../../Topology.html#createSubmissionParameter(java.lang.String,java.lang.Class)"><code>Topology.createSubmissionParameter(String, Class)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
