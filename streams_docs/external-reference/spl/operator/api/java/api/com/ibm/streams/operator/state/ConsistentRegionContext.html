<!DOCTYPE HTML>
<!-- begin_generated_IBM_Teracloud_ApS_copyright_prolog               -->
<!--                                                                  -->
<!-- This is an automatically generated copyright prolog.             -->
<!-- After initializing,  DO NOT MODIFY OR MOVE                       -->
<!-- **************************************************************** -->
<!-- Licensed Materials - Property of IBM                             -->
<!-- (C) Copyright Teracloud ApS 2025, 2025, IBM Corp. 2025, 2025     -->
<!-- All Rights Reserved.                                             -->
<!-- US Government Users Restricted Rights - Use, duplication or      -->
<!-- disclosure restricted by GSA ADP Schedule Contract with          -->
<!-- IBM Corp.                                                        -->
<!--                                                                  -->
<!-- end_generated_IBM_Teracloud_ApS_copyright_prolog                 -->
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ConsistentRegionContext (Streams Java Operator API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.ibm.streams.operator.state, interface: ConsistentRegionContext">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.ibm.streams.operator.state</a></div>
<h1 title="Interface ConsistentRegionContext" class="title">Interface ConsistentRegionContext</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="../OptionalContext.html" title="interface in com.ibm.streams.operator">OptionalContext</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">ConsistentRegionContext</span><span class="extends-implements">
extends <a href="../OptionalContext.html" title="interface in com.ibm.streams.operator">OptionalContext</a></span></div>
<div class="block">Context information for the consistent region the operator is in.
 A consistent region is declared using the SPL <code>consistent</code> annotation
 
 <P>
 In a consistent region an <em>establishing</em> operator establishes
 points where the region becomes consistent.
 A region is consistent if all operators in the region have state
 that reflects having completely processed all streams derived from
 the <em>establishing</em> operator's output streams. 
 <BR>
 Thus the <em>establishing</em> operator creates a <em>cut</em> point
 where it requires that the region becomes consistent, by ensuring
 all operators in the region have processed all of its output streams
 (tuples and punctuation marks), effectively the tuples and marks have
 completely flowed through the region.
 A <em>cut</em> may be defined by the <em>establishing</em> operator,
 such as at a file boundary, or periodically such as every five seconds.
 <BR>
 To establish the consistent state the <em>establishing</em> operator
 stops submitting tuples and then calls <a href="#makeConsistent()"><code>makeConsistent()</code></a>.
 <BR>
 Each downstream operator in the region becomes consistent by
 <a href="StateHandler.html#drain()"><code>draining</code></a> its processing for all
 its input streams and then <a href="StateHandler.html#checkpoint(com.ibm.streams.operator.state.Checkpoint)"><code>checkpointing</code></a> its state.
 <BR>
 Once all operators in the region have made themselves consistent, the region
 has reached a consistent state.
 </P>
 <P>
 Operators may have input and output ports that are outside of the consistent region,
 in which case these ports are not involved in becoming consistent.
 <BR>
 An operator in a consistent region will have at least one input or output port that
 is part of the region.
 </P>
 <P>
 Any operator in a consistent region must acquire a <em>permit</em>
 before submitting tuples or punctuations to output ports in the region. Only background
 activity needs to explicitly acquire and release permits, see <a href="#getSubmissionSemaphore()"><code>getSubmissionSemaphore()</code></a>
 for details on permit handling.
 </P>
 <P>
 <h4>Consistent Region limitations in InfoSphere&reg; Streams Version 4.0</h4>
 <UL>
 <LI>The <a href="../../flow/javaprimitives/JavaOperatorTester.html" title="class in com.ibm.streams.flow.javaprimitives"><code>mock test framework</code></a> for Java primitives
 does not support testing of consistent region functionality</LI>
 </UL>
 </P></div>
<dl class="notes">
<dt>Since:</dt>
<dd>InfoSphere&reg; Streams Version 4.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../OperatorContext.html#getOptionalContext(java.lang.Class)"><code>OperatorContext.getOptionalContext(Class)</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="ConsistentRegionContext.DrainResult.html" class="type-name-link" title="enum class in com.ibm.streams.operator.state">ConsistentRegionContext.DrainResult</a></code></div>
<div class="col-last even-row-color">
<div class="block">Return value of <a href="#makeConsistentNonBlocking()"><code>makeConsistentNonBlocking()</code></a>.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#IBM_Teracloud_ApS_COPYRIGHT" class="member-name-link">IBM_Teracloud_ApS_COPYRIGHT</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#acquirePermit()" class="member-name-link">acquirePermit</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Acquire a single submission <em>permit</em>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#enableNonBlockingCheckpoint()" class="member-name-link">enableNonBlockingCheckpoint</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Enables non-blocking checkpointing.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.management/javax/management/ObjectName.html" title="class or interface in javax.management" class="external-link">ObjectName</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getConsistentRegionMXBeanName()" class="member-name-link">getConsistentRegionMXBeanName</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get the object name of the <a href="../control/ConsistentRegionMXBean.html" title="interface in com.ibm.streams.operator.control"><code>ConsistentRegionMXBean</code></a> MBean registered with the Job Control Plane.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getDrainTimeout()" class="member-name-link">getDrainTimeout</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get the drain timeout of the consistent region.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getIndex()" class="member-name-link">getIndex</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get the region index.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../StreamingInput.html" title="interface in com.ibm.streams.operator">StreamingInput</a>&lt;?&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getInputPorts()" class="member-name-link">getInputPorts</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return the set of this operators input ports
 that are part of this consistent region.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getPermitRunnable(java.lang.Runnable)" class="member-name-link">getPermitRunnable</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;task)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return a task that wraps <code>task</code> with permit
 acquisition and release for this region.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getResetAttempt()" class="member-name-link">getResetAttempt</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">This method returns the current number of attempts of resetting a consistent region.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getResetTimeout()" class="member-name-link">getResetTimeout</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get the reset timeout of the consistent region.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getSequenceId()" class="member-name-link">getSequenceId</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">This method returns the current sequence identifier of a consistent 
 region.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html" title="class or interface in java.util.concurrent" class="external-link">Semaphore</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getSubmissionSemaphore()" class="member-name-link">getSubmissionSemaphore</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get the semaphore used to control processing and tuple submission.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isEndOfRegion()" class="member-name-link">isEndOfRegion</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Check if this operator is an end of a consistent region.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isStartOfRegion()" class="member-name-link">isStartOfRegion</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Check if this operator is a start of a consistent region.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isTriggerOperator()" class="member-name-link">isTriggerOperator</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Check if the operator is the trigger operator of a consistent cut region.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#makeConsistent()" class="member-name-link">makeConsistent</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Make the region consistent by draining processing and checkpointing state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="ConsistentRegionContext.DrainResult.html" title="enum class in com.ibm.streams.operator.state">ConsistentRegionContext.DrainResult</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#makeConsistentNonBlocking()" class="member-name-link">makeConsistentNonBlocking</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Make the region consistent by draining processing and checkpointing state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#releasePermit()" class="member-name-link">releasePermit</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Release a single submission <em>permit</em>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#reset()" class="member-name-link">reset</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Reset this consistent region to its last consistent state.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="IBM_Teracloud_ApS_COPYRIGHT">
<h3>IBM_Teracloud_ApS_COPYRIGHT</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">IBM_Teracloud_ApS_COPYRIGHT</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#com.ibm.streams.operator.state.ConsistentRegionContext.IBM_Teracloud_ApS_COPYRIGHT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="isStartOfRegion()">
<h3>isStartOfRegion</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isStartOfRegion</span>()</div>
<div class="block">Check if this operator is a start of a consistent region.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>True if this operator is a start of a consistent region, false otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isEndOfRegion()">
<h3>isEndOfRegion</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isEndOfRegion</span>()</div>
<div class="block">Check if this operator is an end of a consistent region.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>True if this operator is an end of a consistent region, false otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isTriggerOperator()">
<h3>isTriggerOperator</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isTriggerOperator</span>()</div>
<div class="block">Check if the operator is the trigger operator of a consistent cut region.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>True if the operator is the trigger operator of a consistent region, false otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInputPorts()">
<h3>getInputPorts</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../StreamingInput.html" title="interface in com.ibm.streams.operator">StreamingInput</a>&lt;?&gt;&gt;</span>&nbsp;<span class="element-name">getInputPorts</span>()</div>
<div class="block">Return the set of this operators input ports
 that are part of this consistent region.</div>
</section>
</li>
<li>
<section class="detail" id="getIndex()">
<h3>getIndex</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getIndex</span>()</div>
<div class="block">Get the region index.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>region index</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getConsistentRegionMXBeanName()">
<h3>getConsistentRegionMXBeanName</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.management/javax/management/ObjectName.html" title="class or interface in javax.management" class="external-link">ObjectName</a></span>&nbsp;<span class="element-name">getConsistentRegionMXBeanName</span>()</div>
<div class="block">Get the object name of the <a href="../control/ConsistentRegionMXBean.html" title="interface in com.ibm.streams.operator.control"><code>ConsistentRegionMXBean</code></a> MBean registered with the Job Control Plane.
 The object name can be used to subscribe to consistent region related notifications.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Consistent region MBean object name</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSequenceId()">
<h3>getSequenceId</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getSequenceId</span>()</div>
<div class="block">This method returns the current sequence identifier of a consistent 
 region. 
 <P>
 The sequence identifier is the id that a drain or a reset should be 
 associated to. After operator startup, this method returns 1. 
 On operator restart, the method returns -1 until it reset.
 </P>
 <P>
 While a submission <em>permit</em> is held the returned value is stable.
 </P></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>current sequence id of a drain or reset or -1 if the method is 
 accessed after the operator restarts due to a PE crash but before the operator 
 resets.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getResetAttempt()">
<h3>getResetAttempt</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getResetAttempt</span>()</div>
<div class="block">This method returns the current number of attempts of resetting a consistent region.
 <P>
 If a drain is completed after a reset, this method returns -1. 
 </P></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>last reset attempt, or -1 if a drain has been successfully processed 
 after a reset.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="makeConsistent()">
<h3>makeConsistent</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">makeConsistent</span>()</div>
<div class="block">Make the region consistent by draining processing and checkpointing state.
 <BR>
 <code>makeConsistent()</code> is called by
 <a href="#isStartOfRegion()"><code>start operators</code></a> to establish a point in time
 when the region was consistent. Normally the region becomes consistent
 by each operator draining all processing and checkpointing its state,
 in the case this method returns true.
 <BR>
 If a failure occurs, then the region becomes consistent by
 resetting to a previous consistent state, in this case the method
 returns false.
 <P>
 The <a href="#isTriggerOperator()"><code>triggering operator</code></a> calls
 <code>makeConsistent()</code> to start the drain and checkpoint cycle.
 <BR>
 With periodic triggering of drain and checkpoint cycles,
 <a href="#isStartOfRegion()"><code>start operators</code></a> may also
 call <code>makeConsistent()</code> to start the drain and checkpoint cycle,
 though the start may be delayed until the next scheduled cycle.
 </P>
 <P>
 A drain and checkpoint cycle results in a call to <a href="StateHandler.html#drain()"><code>StateHandler.drain()</code></a>
 followed by <a href="StateHandler.html#checkpoint(com.ibm.streams.operator.state.Checkpoint)"><code>StateHandler.checkpoint(com.ibm.streams.operator.state.Checkpoint)</code></a>.
 <BR>
 This call blocks until either the drain and and checkpoint cycle
 was completed for the region, or until the region is reset, if
 a failure occurred.
 <BR>
 When <code>true</code> is returned it is guaranteed that the cut
 identified by the value of <a href="#getSequenceId()"><code>getSequenceId()</code></a> upon entry
 was completed without any reset. Thus any tuples submitted prior
 to this call or prior to the return from <a href="StateHandler.html#drain()"><code>StateHandler.drain()</code></a>
 have been completely processed by the region and the resultant
 operators' state checkpointed.
 <BR> 
 When <code>false</code> is returned it is guaranteed that the cut
 identified by the value of <a href="#getSequenceId()"><code>getSequenceId()</code></a> upon entry
 was reset. Tuples submitted during that cut should be
 resubmitted to ensure they are processed.
 <BR>
 If a drain and checkpoint cycle is not required or cannot be completed
 due to an ongoing reset, then it may not be started. In this case
 then the <code>drain()</code> and <code>checkpoint</code> methods may not be
 called, though the return value will represent the correct guarantee.
 </P>
 <P>
 For correct behavior, upon entry the caller must have acquired
 (implicitly or explicitly) a single <a href="#acquirePermit()"><code>permit</code></a>.
 <BR>
 This permit is released during the method's processing but
 will be re-acquired before the method returns. After the
 method returns, thus the caller still has a permit and
 thus is free to continue to submit tuples. The
 current <a href="#getSequenceId()"><code>sequence identifier</code></a> most
 likely will have changed.
 </P>
 <P>
 After the method returns the state of the operator may have changed,
 either due to a reset or concurrent processing by other threads.
 </P>
 <P>
 <code>makeConsistent()</code> <em>happens-before</em> its call to <a href="StateHandler.html#drain()"><code>StateHandler.drain()</code></a>. 
 </P>
 <P>
 Note that calling <code>makeConsistent()</code> in the start operator would block the 
 tuple flow until all operators in the consistent region have finished checkpointing, 
 including those operator which enable <a href="#enableNonBlockingCheckpoint()"><code>non-blocking checkpointing</code></a>.
 In order to achieve non-blocking checkpointing, please use <a href="#makeConsistentNonBlocking()"><code>makeConsistentNonBlocking()</code></a> 
 in the start operator.
 </P>
 <P>
 Since Streams&reg; Version 4.2.0, before <code>makeConsistent()</code> returns true, the SPL Runtime invokes
 start operator's <a href="StateHandler.html#regionCheckpointed(long)"><code>StateHandler.regionCheckpointed(long)</code></a> callback.
 </P></div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> Region became consistent without any reset, <code>false</code> region was reset.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="reset()">
<h3>reset</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">reset</span>()
    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Reset this consistent region to its last consistent state.
 <BR>
 This method can be used by operators when detecting an operator-specific transient 
 failure. If the region is already being reset, a new attempt for reset is requested.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>IOException</code> - Reset can not be requested.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSubmissionSemaphore()">
<h3>getSubmissionSemaphore</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html" title="class or interface in java.util.concurrent" class="external-link">Semaphore</a></span>&nbsp;<span class="element-name">getSubmissionSemaphore</span>()</div>
<div class="block">Get the semaphore used to control processing and tuple submission.
 A <em>permit</em> from this semaphore is required to modify
 state and submit tuples to output ports in this region.
 <BR>
 A <em>permit</em> is implicitly acquired by the SPL Runtime during calls to
 any of these methods (and released once the method completes):
 <UL>
 <LI> Input port processing:
 <UL>
 <LI> <a href="../Operator.html#process(com.ibm.streams.operator.StreamingInput,com.ibm.streams.operator.Tuple)"><code>Operator.process(StreamingInput, Tuple)</code></a> </LI>
 <LI> <a href="../Operator.html#processPunctuation(com.ibm.streams.operator.StreamingInput,com.ibm.streams.operator.StreamingData.Punctuation)"><code>Operator.processPunctuation(StreamingInput, com.ibm.streams.operator.StreamingData.Punctuation)</code></a> </LI>
 </UL>
 </LI>
 <LI> Window event handling:
 <UL>
 <LI> <a href="../window/StreamWindowListener.html#handleEvent(com.ibm.streams.operator.window.StreamWindowEvent)"><code>StreamWindowListener.handleEvent(StreamWindowEvent)</code></a> </LI>
 </UL>
 </LI>
 <LI> State handling: 
 <UL>
 <LI> <a href="StateHandler.html#drain()"><code>StateHandler.drain()</code></a> </LI>
 </UL>
 </LI>
 </UL>
 <BR>
 When a <em>permit</em> is implicitly acquired, operator implementations need not code
 any permit acquisition or release, thus only background activity,
 such a threads in a source operator, that needs to partake in the consistent region must
 acquire a permit. A typical pattern for a source operator submitting tuples would be:
 <pre>
 semaphore.acquire();
 try {
   //get external data for tuples
   OutputTuple tuple = ...
   // update state to reflect tuple was submitted
   ...
   // submit tuples (can be one or many)
   getOutput(0).submit(tuple);
 } finally {
    semaphore.release();
 }
 </pre></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Semaphore used to acquire permits for tuple submission to
 output ports in this region.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#acquirePermit()"><code>acquirePermit()</code></a></li>
<li><a href="#releasePermit()"><code>releasePermit()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquirePermit()">
<h3>acquirePermit</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">acquirePermit</span>()
            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></span></div>
<div class="block">Acquire a single submission <em>permit</em>.
 Convenience method equivalent to <code>getSemaphore().acquire()</code></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="releasePermit()">
<h3>releasePermit</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">releasePermit</span>()</div>
<div class="block">Release a single submission <em>permit</em>.
 Convenience method equivalent to <code>getSemaphore().release()</code></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPermitRunnable(java.lang.Runnable)">
<h3>getPermitRunnable</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></span>&nbsp;<span class="element-name">getPermitRunnable</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;task)</span></div>
<div class="block">Return a task that wraps <code>task</code> with permit
 acquisition and release for this region. The permit is
 acquired before calling <code>task.run()</code> and released
 before the returned <code>Runnable</code> <code>run()</code> method returns,
 even if an undeclared exception is thrown.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>task</code> - Task to be wrapped.</dd>
<dt>Returns:</dt>
<dd><code>task</code> wrapped in a <code>Runnable</code> that acquires and releases a permit.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDrainTimeout()">
<h3>getDrainTimeout</h3>
<div class="member-signature"><span class="return-type">double</span>&nbsp;<span class="element-name">getDrainTimeout</span>()</div>
<div class="block">Get the drain timeout of the consistent region.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>drain timeout</dd>
<dt>Since:</dt>
<dd>InfoSphere&reg; Streams Version 4.0.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getResetTimeout()">
<h3>getResetTimeout</h3>
<div class="member-signature"><span class="return-type">double</span>&nbsp;<span class="element-name">getResetTimeout</span>()</div>
<div class="block">Get the reset timeout of the consistent region.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>reset timeout</dd>
<dt>Since:</dt>
<dd>InfoSphere&reg; Streams Version 4.0.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="enableNonBlockingCheckpoint()">
<h3>enableNonBlockingCheckpoint</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">enableNonBlockingCheckpoint</span>()</div>
<div class="block">Enables non-blocking checkpointing. 
 <P>
 This method must be invoked from <a href="../Operator.html#initialize(com.ibm.streams.operator.OperatorContext)"><code>Operator.initialize(OperatorContext)</code></a>. 
 Non-blocking checkpointing enables an operator to checkpoint its 
 state while new tuples are processed. This should be used only when 
 the operator implements techniques that guarantee that the operator 
 state saved on the <a href="StateHandler.html#checkpoint(com.ibm.streams.operator.state.Checkpoint)"><code>StateHandler.checkpoint(Checkpoint)</code></a>
 call is consistent with processing all tuples prior to the <a href="StateHandler.html#drain()"><code>StateHandler.drain()</code></a>
 call even after tuple processing is resumed. One such technique
 is user-level copy-on-write of operator state.
 </P></div>
<dl class="notes">
<dt>Since:</dt>
<dd>IBM Streams Version 4.2</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="makeConsistentNonBlocking()">
<h3>makeConsistentNonBlocking</h3>
<div class="member-signature"><span class="return-type"><a href="ConsistentRegionContext.DrainResult.html" title="enum class in com.ibm.streams.operator.state">ConsistentRegionContext.DrainResult</a></span>&nbsp;<span class="element-name">makeConsistentNonBlocking</span>()</div>
<div class="block">Make the region consistent by draining processing and checkpointing state.
 <P>
 <code>makeConsistent()</code> has similar functionality as <a href="#makeConsistent()"><code>makeConsistent()</code></a>, 
 and is called by <a href="#isStartOfRegion()"><code>start operators</code></a> to initiate the establishment 
 of a consistent state. 
 <BR>
 If the region is operator driven, and the operator is the trigger operator of the region, 
 draining of the region starts immediately. If the region is periodic, the calling thread blocks
 until the SPL runtime finishes the next periodic consistent state. If the operator needs to submit
 more tuples prior to the start of a consistent state, such tuples can be submitted in the 
 <a href="StateHandler.html#drain()"><code>StateHandler.drain()</code></a> method.
 <BR>
 To successfully execute makeConsistentNonBlocking(), the thread must currently hold a permit. If multiple 
 threads call this method at the same time, only a single consistent state will be established.
 <BR>
 The <code>makeConsistentNonBlocking()</code> method has similar functionality as <a href="#makeConsistent()"><code>makeConsistent()</code></a>, 
 but should be preferred when the consistent region contains operator(s) with non-blocking checkpointing enabled.
 <BR>
 If a consistent region has no operator which enables non-blocking checkpointing, then the
 <code>makeConsistentNonBlocking()</code> method returns <code>COMPLETED</code> when a consistent state has 
 successfully established, or <code>FAILED</code> when there is a shutdown request or there is a failure and the 
 region has been reset. So if the consistent region has no operator with non-blocking checkpointing enabled, 
 <code>makeConsistentNonBlocking()</code> returning <code>COMPLETED</code> is  equivalent to <a href="#makeConsistent()"><code>makeConsistent()</code></a> 
 returning <code>true</code>, and <code>makeConsistentNonBlocking()</code> returning <code>FAILED</code> is the same as <a href="#makeConsistent()"><code>makeConsistent()</code></a> 
 returning <code>false</code>.
 <BR>
 If a consistent region has any operator which enables non-blocking checkpointing, then the
 <code>makeConsistentNonBlocking()</code> may also return <code>CHECKPOINT_PENDING</code>, indicating that all blocking
 operators have finished checkpointing and all non-blocking operators have finished preparation
 but there is still non-blocking checkpointing ongoing. The start operator can resume tuple
 processing upon the return of <code>CHECKPOINT_PENDING</code>. In comparison, if <a href="#makeConsistent()"><code>makeConsistent()</code></a> is used when 
 the consistent region has any operator with non-blocking checkpointing enabled, the <a href="#makeConsistent()"><code>makeConsistent()</code></a> 
 call would not return until all operator have finished checkpointing (including those non-blocking ones). 
 <BR>
 If <code>makeConsistentNonBlocking()</code> returns <code>COMPLETED</code> (no matter whether there is non-blocking operator in the
 region), a consistent state has been successfully established, and it is safe to resume tuple processing
 and retire any tuples between this checkpoint and the previous checkpoint. The previous checkpoint has 
 also been retired by the SPL Runtime via calling <a href="StateHandler.html#retireCheckpoint(long)"><code>StateHandler.retireCheckpoint(long)</code></a>. 
 Before letting <code>makeConsistentNonBlocking()</code> returning <code>COMPLETED</code>, the SPL Runtime also invokes start 
 operator's <a href="StateHandler.html#regionCheckpointed(long)"><code>StateHandler.regionCheckpointed(long)</code></a> callback.
 <BR>
 If <code>makeConsistentNonBlocking()</code> returns <code>CHECKPOINT_PENDING</code>, it is not safe to retire tuples between this
 checkpoint and the previous checkpoint, and the SPL Runtime has not yet retired the previous 
 checkpoint; however, it is ok to resume tuple processing after <code>CHECKPOINT_PENDING</code> is returned.
 When all the pending checkpoints are complete, the SPL Runtime invokes start operator's 
 <a href="StateHandler.html#regionCheckpointed(long)"><code>StateHandler.regionCheckpointed(long)</code></a> callback.
 <BR>
 <code>makeConsistentNonBlocking()</code> and <a href="#makeConsistent()"><code>makeConsistent()</code></a> cannot be used in mix. 
 </P></div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>COMPLETED</code> if all operators have finished checkpointing, return <code>CHECKPOINT_PENDING</code> if all operators
 that do blocking checkpointing have finished checkpointing, and all operators that do non-blocking 
 checkpointing have finished preparation for non-blocking checkpointing, but at least one operator still
 has non-blocking checkpointing ongoing, return <code>FAILED</code> if there is failure and reset or shutdown request 
 during the draining and checkpointing process.</dd>
<dt>Since:</dt>
<dd>IBM Streams Version 4.2</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
