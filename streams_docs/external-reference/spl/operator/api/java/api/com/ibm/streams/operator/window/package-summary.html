<!DOCTYPE HTML>
<!-- begin_generated_IBM_Teracloud_ApS_copyright_prolog               -->
<!--                                                                  -->
<!-- This is an automatically generated copyright prolog.             -->
<!-- After initializing,  DO NOT MODIFY OR MOVE                       -->
<!-- **************************************************************** -->
<!-- Licensed Materials - Property of IBM                             -->
<!-- (C) Copyright Teracloud ApS 2025, 2025, IBM Corp. 2025, 2025     -->
<!-- All Rights Reserved.                                             -->
<!-- US Government Users Restricted Rights - Use, duplication or      -->
<!-- disclosure restricted by GSA ADP Schedule Contract with          -->
<!-- IBM Corp.                                                        -->
<!--                                                                  -->
<!-- end_generated_IBM_Teracloud_ApS_copyright_prolog                 -->
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>com.ibm.streams.operator.window (Streams Java Operator API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.ibm.streams.operator.window">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package com.ibm.streams.operator.window" class="title">Package com.ibm.streams.operator.window</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">com.ibm.streams.operator.window</span></div>
<section class="package-description" id="package-description">
<div class="block">Input port windowing interfaces and classes.
 A window is a well-defined set of tuples that
 have arrived at the input port. The definition
 of the contents of a window is defined
 by an <em>eviction policy</em>. A window
 is described by <a href="StreamWindow.html" title="interface in com.ibm.streams.operator.window"><code>StreamWindow</code></a>,
 see its documentation for definitions of
 tumbling and sliding windows.
 <BR>
 A window's definition is declared either by the invocation of
 an operator in an SPL application, or by the operator's
 <a href="../../flow/declare/InputPortDeclaration.html" title="interface in com.ibm.streams.flow.declare"><code>InputPortDeclaration</code></a>
 window's configuration (see <a href="../../flow/declare/InputPortDeclaration.html#tumbling()"><code>tumbling()</code></a>
 or <a href="../../flow/declare/InputPortDeclaration.html#sliding()"><code>sliding()</code></a> in a Java
 declared flow.
 <P>
 A window generates events as <a href="StreamWindowEvent.html" title="class in com.ibm.streams.operator.window"><code>StreamWindowEvent</code></a> which
 an operator handles using an implementation of
 <a href="StreamWindowListener.html" title="interface in com.ibm.streams.operator.window"><code>StreamWindowListener</code></a> and registering it with
 <a href="StreamWindow.html#registerListener(com.ibm.streams.operator.window.StreamWindowListener,boolean)"><code>StreamWindow.registerListener(StreamWindowListener, boolean)</code></a>.
 Each event has a specific <a href="StreamWindowEvent.Type.html" title="enum class in com.ibm.streams.operator.window"><code>StreamWindowEvent.Type</code></a>, the most significant event
 types are:
 <UL>
 <LI> <a href="StreamWindowEvent.Type.html#INSERTION"><code>StreamWindowEvent.Type.INSERTION</code></a> One or more tuples have been inserted into the window.</LI>
 <LI> <a href="StreamWindowEvent.Type.html#EVICTION"><code>StreamWindowEvent.Type.EVICTION</code></a>
 <UL>
   <LI> For a tumbling window the window has tumbled, all tuples are being evicted.
   This is typically where tuples are submitted, representing some aggregation of the window,
   the set of tuples being evicted. </LI>
   <LI> For a sliding window the window has slide, one or more tuples are being evicted, as defined
   by the <em>eviction policy</em>.</LI>
 </UL>
 <LI> <a href="StreamWindowEvent.Type.html#TRIGGER"><code>StreamWindowEvent.Type.TRIGGER</code></a> A sliding window is being triggered according to its
 <em> trigger policy</em>. This is typically where tuples are submitted, representing some aggregation
       of the window, the set of tuples currently in the window. </LI>
 
 </UL>
 The operator's <a href="StreamWindowListener.html" title="interface in com.ibm.streams.operator.window"><code>StreamWindowListener</code></a> implements the logic against the window, by
 <a href="StreamWindowListener.html#handleEvent(com.ibm.streams.operator.window.StreamWindowEvent)"><code>handling the window's events</code></a>.
 Typically this is an algorithm that aggregates the window's contents, but there are no
 restrictions on how the events are handled.
 <BR>
 Ideally the algorithm can be maintained incrementally as each tuple is inserted into
 the window, so that latency is reduced when the window tumbles or is triggered, by
 not having to compute an algorithm over the complete set of tuples in the window.
 </P>
 <P>
 When a window is <em>partitioned</em>, the operator provides an implementation of
 <a href="StreamWindowPartitioner.html" title="interface in com.ibm.streams.operator.window"><code>StreamWindowPartitioner</code></a> that maps a <a href="../Tuple.html" title="interface in com.ibm.streams.operator"><code>Tuple</code></a>
 to a partition key, using <a href="StreamWindowPartitioner.html#getPartition(T)"><code>getPartition(tuple)</code></a>.
 <BR>
 Each unique partition key creates its own independent window partition with the
 window's policy definitions. Thus the set of tuples in each window partition
 independently honors any <em>eviction</em> and <em>trigger</em> policies.
 <BR>
 For example with a tumbling window with count eviction policy of size three,
 partitioned by a customer identifier, will result in a unique window partition
 for each customer. Thus at some point in time there might be two partitions,
 for customer identifiers <code>A345</code> and <code>B823</code>. The partition
 for <code>A345</code> has a single tuple, and <code>B823</code> two tuples. 
 A single tuple for customer <code>B823</code> arriving at the input port
 will cause the partition for <code>B823</code> to tumble, as it now contains three
 tuples. Partition <code>A345</code> tumbles independently of any other partition
 and in this case would require two more tuples for <code>A345</code> to arrive at
 the input port.
 </P>
 <P>
 When an operator is checkpointed, either when a
 <a href="../state/CheckpointContext.html" title="interface in com.ibm.streams.operator.state"><code>checkpoint configuration</code></a>
 exists or the operator is in a
 <a href="../state/ConsistentRegionContext.html" title="interface in com.ibm.streams.operator.state"><code>consistent region</code></a>,
 the SPL runtime persists the complete state of the window, including its
 contents and any state information required to correctly restart event processing
 if the operator later resets to that checkpoint. This window state is always
 persisted and does not require the operator to
 <a href="../OperatorContext.html#registerStateHandler(com.ibm.streams.operator.state.StateHandler)"><code>register</code></a>
 a <a href="../state/StateHandler.html" title="interface in com.ibm.streams.operator.state"><code>StateHandler</code></a>.
 <BR>
 Typically the operator will also maintain window state, such as the state of the
 aggregation being performed, this state may be instance fields of the operator
 class or its <a href="StreamWindowListener.html" title="interface in com.ibm.streams.operator.window"><code>StreamWindowListener</code></a>. This operator specific state
 is <b>not persisted automatically</b> by the SPL runtime, instead the
 operator register a <a href="../state/StateHandler.html" title="interface in com.ibm.streams.operator.state"><code>StateHandler</code></a> instance
 to persist such state on a checkpoint.
 <BR>
 Each window performs these actions on these state events: 
 <UL>
 <LI>drain - Any outstanding <a href="StreamWindowEvent.Type.html#EVICTION"><code>EVICTION</code></a> events are completed,
 waiting for each <a href="StreamWindowListener.html#handleEvent(com.ibm.streams.operator.window.StreamWindowEvent)"><code>StreamWindowListener.handleEvent()</code></a>
 to return.</LI>
 <LI>checkpoint - Contents  (tuples) of all window partitions are persisted along with any
 state required to correctly restart event processing.</LI>
 <LI>reset to initial state</LI> - All window contents are discarded without any event handling,
 and window is reset as though it had just been created. If the window is partitioned this
 means that all partitions are discarded and not recreated (until created by subsequent
 tuple processing)</LI>
 <LI>reset from a checkpoint - All window contents are discarded without any event handling.
 All partitions that exist in the checkpoint are recreated with their persisted contents and
 event handling is restarted to correctly honor the <em>eviction</em> and <em>trigger</em> policies.
 Any partitions that existed before the reset but not in the checkpoint are discarded and not recreated
 (until created by subsequent tuple processing).
 </UL>
 Note that time based policies are based upon wall-clock time and are correctly honored
 when processing is resumed after a reset from a checkpoint, that is time is not
 stopped or reset by any reset operation.
 <BR>For example a sliding time based eviction
 policy of five seconds states that any tuple that has been in the window for
 more than five seconds must be evicted. So a checkpoint can persist a window
 containing 20 tuples that had four more seconds to live in the window
 <em>at the time the checkpoint was taken</em>. However if a reset to that
 checkpoint occurs more than four seconds later, then by the window's eviction policy
 all those tuples must be evicted, even though they have just been restored.
 Thus the tuples are evicted, through an <code>EVICTION</code> event.
 <BR>
 Similarly, with a tumbling eviction time policy of 30 seconds (since the last
 tumble), then any time while the operator was not active before the reset
 is included in the calculation, so that the tumble takes place 30 seconds
 after the last tumble recorded in the checkpoint. If, when the reset occurs
 the tumble is overdue, say in this case the PE was down for 45 seconds,
 then the tumble takes place as soon as processing is resumed.
 <BR>
 If the operator registered a <a href="../state/StateHandler.html" title="interface in com.ibm.streams.operator.state"><code>StateHandler</code></a> then its methods are invoked
 after the corresponding actions have occurred for all its windowed input ports.
 For example, when <a href="../state/StateHandler.html#drain()"><code>StateHandler.drain()</code></a> is
 called it is guaranteed all windowed input ports have been drained.
 <BR>
 The only change in window contents that a <code>StateHandler</code> may perform
 is eviction of partitions using
 <a href="StreamWindow.html#evictPartition(java.lang.Object)"><code>StreamWindow.evictPartition(Object)</code></a>
 during its drain processing. In this case the window must be partitioned.
 </P></div>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="../package-summary.html">com.ibm.streams.operator</a></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><a href="sort/package-summary.html">com.ibm.streams.operator.window.sort</a></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab1" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab1', 2)" class="table-tab">Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button><button id="class-summary-tab3" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab3', 2)" class="table-tab">Enum Classes</button></div>
<div id="class-summary.tabpanel" role="tabpanel" aria-labelledby="class-summary-tab0">
<div class="summary-table two-column-summary">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="AbstractWindowOperator.html" title="class in com.ibm.streams.operator.window">AbstractWindowOperator</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Abstract operator that forces all tuple processing
 to be through window event handling.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="CheckpointableWindowListener.html" title="interface in com.ibm.streams.operator.window">CheckpointableWindowListener</a>&lt;O extends <a href="../Operator.html" title="interface in com.ibm.streams.operator">Operator</a>,<wbr>T&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab1">&nbsp;</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="StatefulWindowListener.html" title="class in com.ibm.streams.operator.window">StatefulWindowListener</a>&lt;S,<wbr>T&gt;</div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Abstract class that registers listeners with a <a href="StreamWindow.html" title="interface in com.ibm.streams.operator.window"><code>StreamWindow</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="StreamWindow.html" title="interface in com.ibm.streams.operator.window">StreamWindow</a>&lt;T&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">A window connected to an input port (stream).</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab3"><a href="StreamWindow.Policy.html" title="enum class in com.ibm.streams.operator.window">StreamWindow.Policy</a></div>
<div class="col-last even-row-color class-summary class-summary-tab3">
<div class="block">Policy type for eviction and trigger policies.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab3"><a href="StreamWindow.Type.html" title="enum class in com.ibm.streams.operator.window">StreamWindow.Type</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab3">
<div class="block">Window type.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="StreamWindowEvent.html" title="class in com.ibm.streams.operator.window">StreamWindowEvent</a>&lt;T&gt;</div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">An event for a windowed input port.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab3"><a href="StreamWindowEvent.Type.html" title="enum class in com.ibm.streams.operator.window">StreamWindowEvent.Type</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab3">
<div class="block">Stream window event type.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="StreamWindowListener.html" title="interface in com.ibm.streams.operator.window">StreamWindowListener</a>&lt;T&gt;</div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Handle StreamWindowEvents being generated by a StreamWindow.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="StreamWindowPartitioner.html" title="interface in com.ibm.streams.operator.window">StreamWindowPartitioner</a>&lt;T,<wbr>P&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">StreamWindowPartitioner provides the mapping from an tuple
 being inserted into the window to a partition.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="WindowUtilities.html" title="class in com.ibm.streams.operator.window">WindowUtilities</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Utility methods for windowed input ports.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
</div>
</div>
</body>
</html>
